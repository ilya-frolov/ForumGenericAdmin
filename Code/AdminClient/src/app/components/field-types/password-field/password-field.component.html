<!-- Edit Template -->
<ng-template #editTemplate>
  <div class="d-flex flex-column gap-2">
    <label [for]="id">
      {{ label }}
      <span *ngIf="metadata?.required" class="text-danger">*</span>
    </label>
    <div class="p-input-icon-right w-100">
      <i 
        [ngClass]="showPassword ? 'pi pi-eye-slash' : 'pi pi-eye'" 
        style="cursor: pointer;" 
        (click)="togglePasswordVisibility()"
        [pTooltip]="showPassword ? 'Hide password' : 'Show password'"
      ></i>
      <input
        pInputText
        [type]="showPassword ? 'text' : 'password'"
        [id]="id"
        [name]="id"
        [(ngModel)]="value"
        [placeholder]="metadata?.placeholder || ''"
        [maxlength]="metadata?.maxLength"
        [required]="metadata?.required"
        [readonly]="metadata?.readOnly"
        (input)="onValueChange($any($event.target).value)"
        class="w-100"
      />
    </div>
    <div *ngIf="metadata?.maxLength" class="text-muted small">
      {{ value?.length || 0 }}/{{ metadata.maxLength }}
    </div>
    <div *ngIf="metadata?.tooltip" class="text-muted small">
      {{ metadata.tooltip }}
    </div>
  </div>
</ng-template>

<!-- List Template -->
<ng-template #listTemplate>
  <div class="field-display">
    <!-- <div class="fw-medium">{{ label }}</div> -->
    <div>{{ value ? '••••••••' : '-' }}</div>
  </div>
</ng-template> 

<ng-template #viewTemplate>
  <div class="d-flex align-items-center">
    <span class="me-2">{{ label }}:</span>
    <span class="field-display d-inline-flex align-items-center">
      <span>{{ value ? '••••••••' : '-' }}</span>
    </span>
  </div>
</ng-template>

  
