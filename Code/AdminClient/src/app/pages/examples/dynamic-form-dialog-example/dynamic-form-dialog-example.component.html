<div class="container mx-auto p-4">
  <p-card header="Dynamic Form Dialog Example" subheader="Click the button below to open a dynamic form dialog">
    <div class="d-flex flex-column gap-3">
      <div class="d-flex justify-content-center">
        <button 
          pButton 
          label="Open Dynamic Form Dialog" 
          icon="pi pi-external-link" 
          (click)="openFormDialog()"
        ></button>
      </div>
      
      <div *ngIf="formResult" class="mt-3">
        <h3>Form Result:</h3>
        <pre class="p-2 border-1 surface-border border-round bg-gray-50" style="max-height: 200px; overflow: auto">{{ formResult | json }}</pre>
      </div>
      
      <div class="mt-3">
        <h3>Form Mode:</h3>
        <div class="d-flex gap-2">
          <button pButton label="Edit Mode" (click)="setFormMode('edit')" [class.p-button-outlined]="formMode !== 'edit'"></button>
          <button pButton label="View Mode" (click)="setFormMode('view')" [class.p-button-outlined]="formMode !== 'view'"></button>
          <button pButton label="Create Mode" (click)="setFormMode('edit')" [class.p-button-outlined]="formMode !== 'edit'"></button>
        </div>
      </div>
    </div>
  </p-card>
</div>

<!-- Dynamic Form Dialog Component -->
<app-dynamic-form-dialog
  [(visible)]="formDialogVisible"
  [formMode]="formMode"
  [formId]="formId"
  dialogHeader="Dynamic Form Example"
  (formSubmit)="onFormSubmit($event)"
  (formCancel)="onFormCancel()"
></app-dynamic-form-dialog>
