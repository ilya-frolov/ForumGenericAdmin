<div class="container mx-auto p-4">
  <p-toast></p-toast>
  
  <div class="mb-4">
    <h1 class="text-3xl font-bold">{{ 'SETTINGS_PAGE.PageTitle' | translate }}</h1>
    <p class="text-gray-600">{{ 'SETTINGS_PAGE.PageDescription' | translate }}</p>
  </div>
  
  <ng-container *ngIf="loading; else contentLoaded">
    <div class="loading-container">
      <p-progressSpinner styleClass="w-4rem h-4rem" strokeWidth="8" fill="var(--surface-ground)" animationDuration=".5s"></p-progressSpinner>
      <span>{{ 'SETTINGS_PAGE.Loading' | translate }}</span>
    </div>
  </ng-container>

  <ng-template #contentLoaded>
    <div class="settings-container">
      <p-card [header]="segmentSegment?.name || 'Settings'" styleClass="mb-4">
        <app-dynamic-form 
          [formStructure]="structure" 
          [formMode]="formMode" 
          [isShowCancelButton]="false"
          (formSubmit)="onFormSubmit($event)">
        </app-dynamic-form>
      </p-card>
    </div>
  </ng-template>
</div> 